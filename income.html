<!DOCTYPE html>
<html>
<head>

<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<link href="css/jquery.mobile.min.css" rel="stylesheet" type="text/css">

<script src="js/jquery.min.js"></script>
<script src="js/jquery.mobile.min.js"></script>

</head>

<body>

<!-- Page Index -->
<div data-role="page" id="index">
	<!--header -->
  <div data-role="header" data-position="fixed">
	<h3>Menu</h3>
	
  </div>
  
  <!--content -->
  <div role="main" class="ui-content">

	<div data-role="collapsible" data-collapsed="false" data-theme="b">
    	<h4>Zakat Pendapatan</h4>
    	<ul data-role="listview">
        	<li><a href="#kaedahA">Belum Berkahwin</a></li>
        	<li><a href="#kaedahB">Telah Berkahwin</a></li>
    	</ul>
	</div>
		

  </div>
  
  <!--footer -->
  <div data-role="footer" data-position="fixed">
    <h3>Kira Zakat</h3>
  </div>

</div><!--End Page 1 -->

<!-- Page Kaedah A -->
<div data-role="page" id="kaedahA">
	<!--header -->
  <div data-role="header" data-position="fixed">
	<h3>Pendapatan</h3>
	
  </div>
  
  <!--content -->
  <div role="main" class="ui-content">

<form id="form1">
	<h3>Kaedah A</h3>
	
	<div data-role="fieldcontain">
		<label>Pendapatan Sebulan :</label>
		<input type="number" name="income1" id="income1"/>	
	</div>

	<div data-role="fieldcontain">
		<label>Bonus : </label>
		<input type="number" name="income2" id="income2"/>	
	</div>	

</form>

	<input type="button" id="hantar" value="Kira">
	<div data-role="popup" id="try_ajax" data-dismissible="false" style="max-width:450px;">
	<div data-role="header">	
		<h3>Zakat dikenakan</h3>
		<!--panggil popup -->
	</div> 
	
	<div role="main" class="ui-content">
		<div id="ubah">	
			<!--panggil ubah -->
		</div> 		
	<a href="#" class="ui-btn ui-corner-all ui-shadow" data-rel="back">Kembali</a>
	</div>
	
</div><!-- End content Kaedah A -->
  
  <!--footer -->
  <div data-role="footer" data-position="fixed">
    <div data-role="navbar">
        <ul>
            <li><a href="index.html" data-icon="home">Home</a></li>
            <li><a href="#" data-icon="grid" class="ui-btn-active ui-state-persist">Kira Zakat</a></li>
            <li><a href="#" data-icon="gear">Settings</a></li>
        </ul>
    </div><!-- /navbar -->
  </div><!-- /Footer -->
  
  
</body>
</html>
<script>
$( document ).ready(function() {
  // Handler for .ready() called. pengiraan guna ajax
  
  $('#hantar').click(function(){
		var income1 = $('#income1').val();
		var income2 = $('#income2').val();
		var totalIncome = parseInt(income1) + parseInt(income2);
		var yrIncome = income1 * 12 + parseInt(income2);
//		Formula kira zakat = yrIncome * 0.025;
		var zakat = parseFloat(Math.round((yrIncome * 0.025) * 100) / 100).toFixed(2);
		var mthZakat = parseFloat(Math.round((zakat / 12) * 100) / 100).toFixed(2);
		
		var data = 'Income tahunan: ' + yrIncome + '<br />Zakat tahunan : ' + zakat + '<br />Zakat sebulan : ' + mthZakat;

		$('#ubah').html(data);	<!--ubah yang dipanggil -->
		$('#try_ajax').popup('open'); <!--popup yang dipanggil -->
	});
});

</script>
